<?xml version="1.0" encoding="ISO-8859-1" ?>  
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
			    xmlns:h="http://java.sun.com/jsf/html"
			    xmlns:f="http://java.sun.com/jsf/core"
			    xmlns:ui="http://java.sun.com/jsf/facelets"
			    xmlns:p="http://primefaces.org/ui" 
				template="/templates/templateAdmin.xhtml">
	<ui:define name="tituloPagina">
		Leilões em Andamento
	</ui:define>
	<ui:define name="conteudo">
		
		<h:form id="form">  
  
		    <p:dataTable
		    	id="leilao"
		    	var="o"
		    	value="#{leilaoController.ofertasAndamento}"
		    	paginator="true"
		    	rowKey="#{o.id}"  
		        selection="#{leilaoController.oferta}"
		        selectionMode="single"
		        paginatorPosition="bottom"  
                paginatorAlwaysVisible="false"  
                rows="6"                                          
                emptyMessage="Não foi Encontrado Nenhum leilão em Andamento">  
		  
		        <f:facet name="header">  
		            Leilões em Andamento  
		        </f:facet>  
		          
		        <p:column headerText="Código" style="width: 50px;">  
		        	<h:outputText value="#{o.id}" />  
		        </p:column>  
		        
		        <p:column headerText="Produto">  
		        	<h:outputText value="#{o.produto.nome}" />  
		        </p:column>
		        
		        <p:column headerText="Quantidade" style="width: 50px;">  
		        	<h:outputText value="#{o.quantidade}" />  
		        </p:column>
		  
		        <p:column headerText="Inicio" style="width: 120px;">  
		            <h:outputText value="#{o.dataInicioStr}" />  
		        </p:column>  
		        
		        <p:column headerText="Fim" style="width: 120px;">  
		            <h:outputText value="#{o.dataFimStr}" />  
		        </p:column>
		  
		        <p:column headerText="(-) Lance">  
		        	<h:outputText value="#{o.menorLance}" />  
		        </p:column>
		        
		        <p:column headerText="Meu Menor Lance">  
		        	<h:outputText value="#{o.menorLanceUsuario}" />  
		        </p:column>
		  
		        <f:facet name="footer">
		        	<p:commandButton id="acompanharLeilaoButton" value="Acompanhar Leilão" icon="ui-icon-search" action="#{leilaoController.acompanharLeilao}"/> 
		        </f:facet>  
		  
		    </p:dataTable>
		  		  
		</h:form>		
		
	</ui:define>
</ui:composition>
